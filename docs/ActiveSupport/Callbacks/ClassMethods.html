<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: ActiveSupport::Callbacks::ClassMethods
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "ActiveSupport::Callbacks::ClassMethods";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Callbacks.html" title="ActiveSupport::Callbacks (module)">Callbacks</a></span></span>
     &raquo; 
    <span class="title">ClassMethods</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="../../class_list.html"></iframe>

      <div id="content"><h1>Module: ActiveSupport::Callbacks::ClassMethods
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/active_support/callbacks.rb</dd>
  </dl>
  
</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__update_callbacks-instance_method" title="#__update_callbacks (instance method)">#<strong>__update_callbacks</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>This is used internally to append, prepend and skip callbacks to the CallbackChain.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#define_callbacks-instance_method" title="#define_callbacks (instance method)">#<strong>define_callbacks</strong>(*names)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Define sets of events in the object life cycle that support callbacks.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#normalize_callback_params-instance_method" title="#normalize_callback_params (instance method)">#<strong>normalize_callback_params</strong>(filters, block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset_callbacks-instance_method" title="#reset_callbacks (instance method)">#<strong>reset_callbacks</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Remove all set callbacks for the given event.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_callback-instance_method" title="#set_callback (instance method)">#<strong>set_callback</strong>(name, *filter_list, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Install a callback for the given event.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#skip_callback-instance_method" title="#skip_callback (instance method)">#<strong>skip_callback</strong>(name, *filter_list, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Skip a previously set callback.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="__update_callbacks-instance_method">
  
    #<strong>__update_callbacks</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>This is used internally to append, prepend and skip callbacks to the
CallbackChain.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


568
569
570
571
572
573</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/active_support/callbacks.rb', line 568</span>

<span class='kw'>def</span> <span class='id identifier rubyid___update_callbacks'>__update_callbacks</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='comment'>#:nodoc:
</span>  <span class='lparen'>(</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>DescendantsTracker</span><span class='period'>.</span><span class='id identifier rubyid_descendants'>descendants</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_target'>target</span><span class='op'>|</span>
    <span class='id identifier rubyid_chain'>chain</span> <span class='op'>=</span> <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_get_callbacks'>get_callbacks</span> <span class='id identifier rubyid_name'>name</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_chain'>chain</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="define_callbacks-instance_method">
  
    #<strong>define_callbacks</strong>(*names)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Define sets of events in the object life cycle that support callbacks.</p>

<p>define_callbacks :validate
  define_callbacks :initialize, :save, :destroy</p>

<p>===== Options</p>

<ul>
<li><p><tt>:terminator</tt> - Determines when a before filter will halt the
callback chain, preventing following before and around callbacks from
being called and the event from being triggered.
This should be a lambda to be executed.
The current object and the result lambda of the callback will be provided
to the terminator lambda.</p>

<p>define_callbacks :validate, terminator: -&gt;(target, result_lambda) { result_lambda.call == false }</p></li>
</ul>

<p>In this example, if any before validate callbacks returns +false+,
  any successive before and around callback is not executed.</p>

<p>The default terminator halts the chain when a callback throws +:abort+.</p>

<ul>
<li><p><tt>:skip_after_callbacks_if_terminated</tt> - Determines if after
callbacks should be terminated by the <tt>:terminator</tt> option. By
default after callbacks are executed no matter if callback chain was
terminated or not. This option makes sense only when <tt>:terminator</tt>
option is specified.</p></li>
<li><p><tt>:scope</tt> - Indicates which methods should be executed when an
object is used as a callback.</p>

<p>class Audit
  def before(caller)
    puts &#39;Audit: before is called&#39;
  end</p>

<p>def before_save(caller)
    puts &#39;Audit: before_save is called&#39;
  end
end</p>

<p>class Account
  include ActiveSupport::Callbacks</p>

<p>define_callbacks :save
  set_callback :save, :before, Audit.new</p>

<p>def save
    run_callbacks :save do
      puts &#39;save in main&#39;
    end
  end
end</p></li>
</ul>

<p>In the above case whenever you save an account the method
  <tt>Audit#before</tt> will be called. On the other hand</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_define_callbacks'>define_callbacks</span> <span class='symbol'>:save</span><span class='comma'>,</span> <span class='label'>scope:</span> <span class='lbracket'>[</span><span class='symbol'>:kind</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='rbracket'>]</span>
</code></pre>

<p>would trigger <tt>Audit#before_save</tt> instead. That&#39;s constructed
  by calling <tt>#{kind}_#{name}</tt> on the given instance. In this
  case &quot;kind&quot; is &quot;before&quot; and &quot;name&quot; is &quot;save&quot;. In this context +:kind+
  and +:name+ have special meanings: +:kind+ refers to the kind of
  callback (before/after/around) and +:name+ refers to the method on
  which callbacks are being defined.</p>

<p>A declaration like</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_define_callbacks'>define_callbacks</span> <span class='symbol'>:save</span><span class='comma'>,</span> <span class='label'>scope:</span> <span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span>
</code></pre>

<p>would call <tt>Audit#save</tt>.</p>

<p>NOTE: +method_name+ passed to <code>define_model_callbacks</code> must not end with
<code>!</code>, <code>?</code> or <code>=</code>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


744
745
746
747
748
749
750
751
752
753
754
755
756
757</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/active_support/callbacks.rb', line 744</span>

<span class='kw'>def</span> <span class='id identifier rubyid_define_callbacks'>define_callbacks</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_names'>names</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_extract_options!'>extract_options!</span>

  <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='id identifier rubyid_class_attribute'>class_attribute</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_callbacks</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>instance_writer:</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_set_callbacks'>set_callbacks</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='const'>CallbackChain</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_module_eval'>module_eval</span> <span class='heredoc_beg'>&lt;&lt;-RUBY</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>
<span class='tstring_content'>      def _run_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_callbacks(&amp;block)
        __run_callbacks__(_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_callbacks, &amp;block)
      end
</span><span class='heredoc_end'>    RUBY
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="normalize_callback_params-instance_method">
  
    #<strong>normalize_callback_params</strong>(filters, block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


559
560
561
562
563
564</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/active_support/callbacks.rb', line 559</span>

<span class='kw'>def</span> <span class='id identifier rubyid_normalize_callback_params'>normalize_callback_params</span><span class='lparen'>(</span><span class='id identifier rubyid_filters'>filters</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='const'>CALLBACK_FILTER_TYPES</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_filters'>filters</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_filters'>filters</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span> <span class='op'>:</span> <span class='symbol'>:before</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_filters'>filters</span><span class='period'>.</span><span class='id identifier rubyid_extract_options!'>extract_options!</span>
  <span class='id identifier rubyid_filters'>filters</span><span class='period'>.</span><span class='id identifier rubyid_unshift'>unshift</span><span class='lparen'>(</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
  <span class='lbracket'>[</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_filters'>filters</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reset_callbacks-instance_method">
  
    #<strong>reset_callbacks</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Remove all set callbacks for the given event.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


659
660
661
662
663
664
665
666
667
668
669</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/active_support/callbacks.rb', line 659</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reset_callbacks'>reset_callbacks</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_callbacks'>callbacks</span> <span class='op'>=</span> <span class='id identifier rubyid_get_callbacks'>get_callbacks</span> <span class='id identifier rubyid_name'>name</span>

  <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>DescendantsTracker</span><span class='period'>.</span><span class='id identifier rubyid_descendants'>descendants</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_target'>target</span><span class='op'>|</span>
    <span class='id identifier rubyid_chain'>chain</span> <span class='op'>=</span> <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_get_callbacks'>get_callbacks</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_callbacks'>callbacks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_chain'>chain</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_set_callbacks'>set_callbacks</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_chain'>chain</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_callbacks'>set_callbacks</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_callbacks'>callbacks</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_callback-instance_method">
  
    #<strong>set_callback</strong>(name, *filter_list, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Install a callback for the given event.</p>

<p>set_callback :save, :before, :before_method
  set_callback :save, :after,  :after_method, if: :condition
  set_callback :save, :around, -&gt;(r, block) { stuff; result = block.call; stuff }</p>

<p>The second argument indicates whether the callback is to be run +:before+,
+:after+, or +:around+ the event. If omitted, +:before+ is assumed. This
means the first example above can also be written as:</p>

<p>set_callback :save, :before_method</p>

<p>The callback can be specified as a symbol naming an instance method; as a
proc, lambda, or block; as a string to be instance evaluated(deprecated); or as an
object that responds to a certain method determined by the <tt>:scope</tt>
argument to +define_callbacks+.</p>

<p>If a proc, lambda, or block is given, its body is evaluated in the context
of the current object. It can also optionally accept the current object as
an argument.</p>

<p>Before and around callbacks are called in the order that they are set;
after callbacks are called in the reverse order.</p>

<p>Around callbacks can access the return value from the event, if it
wasn&#39;t halted, from the +yield+ call.</p>

<p>===== Options</p>

<ul>
<li><tt>:if</tt> - A symbol, a string or an array of symbols and strings,
each naming an instance method or a proc; the callback will be called
only when they all return a true value.</li>
<li><tt>:unless</tt> - A symbol, a string or an array of symbols and
strings, each naming an instance method or a proc; the callback will
be called only when they all return a false value.</li>
<li><tt>:prepend</tt> - If +true+, the callback will be prepended to the
existing chain rather than appended.</li>
</ul>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


612
613
614
615
616
617
618
619
620
621
622
623</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/active_support/callbacks.rb', line 612</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_callback'>set_callback</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_filter_list'>filter_list</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_filters'>filters</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_normalize_callback_params'>normalize_callback_params</span><span class='lparen'>(</span><span class='id identifier rubyid_filter_list'>filter_list</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_self_chain'>self_chain</span> <span class='op'>=</span> <span class='id identifier rubyid_get_callbacks'>get_callbacks</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_mapped'>mapped</span> <span class='op'>=</span> <span class='id identifier rubyid_filters'>filters</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_filter'>filter</span><span class='op'>|</span>
    <span class='const'>Callback</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_self_chain'>self_chain</span><span class='comma'>,</span> <span class='id identifier rubyid_filter'>filter</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid___update_callbacks'>__update_callbacks</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_chain'>chain</span><span class='op'>|</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:prepend</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='id identifier rubyid_chain'>chain</span><span class='period'>.</span><span class='id identifier rubyid_prepend'>prepend</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_mapped'>mapped</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_chain'>chain</span><span class='period'>.</span><span class='id identifier rubyid_append'>append</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_mapped'>mapped</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_set_callbacks'>set_callbacks</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_chain'>chain</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="skip_callback-instance_method">
  
    #<strong>skip_callback</strong>(name, *filter_list, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Skip a previously set callback. Like +set_callback+, <tt>:if</tt> or
<tt>:unless</tt> options may be passed in order to control when the
callback is skipped.</p>

<p>class Writer &lt; Person
     skip_callback :validate, :before, :check_membership, if: -&gt; { self.age &gt; 18 }
  end</p>

<p>An <tt>ArgumentError</tt> will be raised if the callback has not
already been set (unless the <tt>:raise</tt> option is set to <tt>false</tt>).</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/active_support/callbacks.rb', line 635</span>

<span class='kw'>def</span> <span class='id identifier rubyid_skip_callback'>skip_callback</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_filter_list'>filter_list</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_filters'>filters</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_normalize_callback_params'>normalize_callback_params</span><span class='lparen'>(</span><span class='id identifier rubyid_filter_list'>filter_list</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:raise</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:raise</span><span class='rparen'>)</span>

  <span class='id identifier rubyid___update_callbacks'>__update_callbacks</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_chain'>chain</span><span class='op'>|</span>
    <span class='id identifier rubyid_filters'>filters</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_filter'>filter</span><span class='op'>|</span>
      <span class='id identifier rubyid_callback'>callback</span> <span class='op'>=</span> <span class='id identifier rubyid_chain'>chain</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_matches?'>matches?</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_filter'>filter</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_callback'>callback</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:raise</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_capitalize'>capitalize</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> callback </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filter'>filter</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> has not been defined</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_callback'>callback</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:if</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:unless</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_new_callback'>new_callback</span> <span class='op'>=</span> <span class='id identifier rubyid_callback'>callback</span><span class='period'>.</span><span class='id identifier rubyid_merge_conditional_options'>merge_conditional_options</span><span class='lparen'>(</span><span class='id identifier rubyid_chain'>chain</span><span class='comma'>,</span> <span class='label'>if_option:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:if</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>unless_option:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:unless</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_chain'>chain</span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='id identifier rubyid_chain'>chain</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_callback'>callback</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_new_callback'>new_callback</span><span class='rparen'>)</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_chain'>chain</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_callback'>callback</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_set_callbacks'>set_callbacks</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_chain'>chain</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sun Sep 25 15:41:19 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.1).
</div>

    </div>
  </body>
</html>