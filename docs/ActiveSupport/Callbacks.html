<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: ActiveSupport::Callbacks
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "ActiveSupport::Callbacks";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span></span>
     &raquo; 
    <span class="title">Callbacks</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="../class_list.html"></iframe>

      <div id="content"><h1>Module: ActiveSupport::Callbacks
  
  
  
</h1>
<div class="box_info">
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd>Concern</dd>
  </dl>
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="../Workflow/Callbacks.html" title="Workflow::Callbacks (module)">Workflow::Callbacks</a></span>, <span class='object_link'><a href="../Workflow/Specification.html" title="Workflow::Specification (class)">Workflow::Specification</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/active_support/callbacks.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Callbacks are code hooks that are run at key points in an object&#39;s life cycle.
The typical use case is to have a base class define a set of callbacks
relevant to the other functionality it supplies, so that subclasses can
install callbacks that enhance or modify the base functionality without
needing to override or redefine methods of the base class.</p>

<p>Mixing in this module allows you to define the events in the object&#39;s
life cycle that will support callbacks (via +ClassMethods.define_callbacks+),
set the instance methods, procs, or callback objects to be called (via
+ClassMethods.set_callback+), and run the installed callbacks at the
appropriate times (via +run_callbacks+).</p>

<p>Three kinds of callbacks are supported: before callbacks, run before a
certain event; after callbacks, run after the event; and around callbacks,
blocks that surround the event, triggering it when they yield. Callback code
can be contained in instance methods, procs or lambdas, or callback objects
that respond to certain predetermined methods. See +ClassMethods.set_callback+
for details.</p>

<p>class Record
    include ActiveSupport::Callbacks
    define_callbacks :save</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_save'>save</span>
  <span class='id identifier rubyid_run_callbacks'>run_callbacks</span> <span class='symbol'>:save</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>- save</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>end</p>

<p>class PersonRecord &lt; Record
    set_callback :save, :before, :saving_message
    def saving_message
      puts &quot;saving...&quot;
    end</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_set_callback'>set_callback</span> <span class='symbol'>:save</span><span class='comma'>,</span> <span class='symbol'>:after</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_object'>object</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>saved</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<p>end</p>

<p>person = PersonRecord.new
  person.save</p>

<p>Output:
  saving...</p>

<ul>
<li>save
saved</li>
</ul>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Callbacks/ClassMethods.html" title="ActiveSupport::Callbacks::ClassMethods (module)">ClassMethods</a></span>, <span class='object_link'><a href="Callbacks/Conditionals.html" title="ActiveSupport::Callbacks::Conditionals (module)">Conditionals</a></span>, <span class='object_link'><a href="Callbacks/Filters.html" title="ActiveSupport::Callbacks::Filters (module)">Filters</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Callbacks/Callback.html" title="ActiveSupport::Callbacks::Callback (class)">Callback</a></span>, <span class='object_link'><a href="Callbacks/CallbackChain.html" title="ActiveSupport::Callbacks::CallbackChain (class)">CallbackChain</a></span>, <span class='object_link'><a href="Callbacks/CallbackSequence.html" title="ActiveSupport::Callbacks::CallbackSequence (class)">CallbackSequence</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="CALLBACK_FILTER_TYPES-constant" class="">CALLBACK_FILTER_TYPES =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='symbol'>:before</span><span class='comma'>,</span> <span class='symbol'>:after</span><span class='comma'>,</span> <span class='symbol'>:around</span><span class='rbracket'>]</span></pre></dd>
    
  </dl>







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run_callbacks-instance_method" title="#run_callbacks (instance method)">#<strong>run_callbacks</strong>(kind, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Runs the callbacks for the given event.</p>
</div></span>
  
</li>

      
    </ul>
  


  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="run_callbacks-instance_method">
  
    #<strong>run_callbacks</strong>(kind, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Runs the callbacks for the given event.</p>

<p>Calls the before and around callbacks in the order they were set, yields
the block (if given one), and then runs the after callbacks in reverse
order.</p>

<p>If the callback chain was halted, returns +false+. Otherwise returns the
result of the block, +nil+ if no callbacks have been set, or +true+
if callbacks have been set but no block is given.</p>

<p>run_callbacks :save do
    save
  end</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/active_support/callbacks.rb', line 89</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_callbacks'>run_callbacks</span><span class='lparen'>(</span><span class='id identifier rubyid_kind'>kind</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_send'>send</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_run_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_kind'>kind</span><span class='embexpr_end'>}</span><span class='tstring_content'>_callbacks</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sun Sep 25 15:41:19 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.1).
</div>

    </div>
  </body>
</html>